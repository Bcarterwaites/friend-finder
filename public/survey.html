<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>FriendFinder</title>
  
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>
  
  </head>


    <body>

        <div class="container">
      
          <h2>Survey Questions</h2>
          <hr>
      
          <h3><strong>About You</strong></h3>
          <h4>Name (Required)</h4>
          <input type="text" id="name" class="form-control" required="">
      
          <h4>Link to Photo Image (Required)</h4>
          <input type="text" id="photo" class="form-control" required="">
      
          <hr>
      
          <h3><strong>Question 1</strong></h3>
          <h4>What is your favorite food?</h4>
          <select data-placeholder="" class="chosen-select" style="width: 157px" id="q1">
            <option vale=""></option>
            <option value="1">Wings</option>
            <option value="2">Pizza</option>
            <option value="3">Nachos</option>
            <option value="4">Tacos</option>
          </select>

          <br>
          <br>

          <h3><strong>Question 2</strong></h3>
          <h4>What is your favorite drink</h4>
          <select data-placeholder="" class="chosen-select" style="width: 157px" id="q2">
            <option vale=""></option>
            <option value="1">Gin & Tonic</option>
            <option value="2">Whiskey Sour</option>
            <option value="3">Long Island</option>
            <option value="4">Water</option>
          </select>

          <br>
          <br>

          <h3><strong>Question 3</strong></h3>
          <h4>What is your favorite genre of music?</h4>
          <select data-placeholder="" class="chosen-select"  style="width: 157px;" id="q3">
            <option vale=""></option>
            <option value="1">Hip-hop</option>
            <option value="2">R&B</option>
            <option value="3">Pop</option>
            <option value="4">Rock</option>
          </select>

          <br>
          <br>

          <h3><strong>Question 5</strong></h3>
          <h4>What is your favorite genre of movie?</h4>
          <select data-placeholder="" class="chosen-select" style="width: 157px" id="q4">
            <option vale=""></option>
            <option value="1">Horror</option>
            <option value="2">Comedy</option>
            <option value="3">Action</option>
            <option value="4">Romance</option>
          </select>

          <br>
          <br>

          <h3><strong>Question 6</strong></h3>
          <h4>What is your favorite pet?</h4>
          <select data-placeholder="" class="chosen-select" style="width: 157px" id="q5">
            <option vale=""></option>
            <option value="1">Dog</option>
            <option value="2">Cat</option>
            <option value="3">Bird</option>
            <option value="4">Hamster</option>
          </select>

          <br>
          <br>

          <h3><strong>Question 6</strong></h3>
          <h4>What is your favorite candy</h4>
          <select data-placeholder="" class="chosen-select" style="width: 157px" id="q6">
            <option vale=""></option>
            <option value="1">Skittles</option>
            <option value="2">Starburst</option>
            <option value="3">Jolly Ranchers</option>
            <option value="4">Sweettarts</option>
          </select>

          <br>
          <br>

          <h3><strong>Question 7</strong></h3>
          <h4>What is your favorite season?</h4>
          <select data-placeholder="" class="chosen-select" style="width: 157px" id="q7">
            <option vale=""></option>
            <option value="1">Spring</option>
            <option value="2">Summer</option>
            <option value="3">Fall</option>
            <option value="4">Winter</option>
          </select>

          <br>
          <br>

          <h3><strong>Question 8</strong></h3>
          <h4>What is your favorite cartoon?</h4>
          <select data-placeholder="" class="chosen-select" style="width: 157px" id="q8">
            <option vale=""></option>
            <option value="1">Adventure Time</option>
            <option value="2">Regular Show</option>
            <option value="3">Steven Universe</option>
            <option value="4">I don't watch cartoons</option>
          </select>

          <br>
          <br>

          <h3><strong>Question 9</strong></h3>
          <h4>What is your favorite social media?</h4>
          <select data-placeholder="" class="chosen-select" style="width: 157px" id="q9">
            <option vale=""></option>
            <option value="1">Instagram</option>
            <option value="2">Twitter</option>
            <option value="3">Facebook</option>
            <option value="4">Tumblr</option>
          </select>

          <br>
          <br>

          <h3><strong>Question 10</strong></h3>
          <h4>What is your favorite sneaker company?</h4>
          <select data-placeholder="" class="chosen-select" style="width: 157px" id="q10">
            <option vale=""></option>
            <option value="1">Nike</option>
            <option value="2">Vans</option>
            <option value="3">Chucks</option>
            <option value="4">Puma</option>
          </select>
          <br>
          <br>

        
    <button type="submit" class="btn btn-primary btn-lg btn-block" id="submit"><i class="fa fa-check-circle" aria-hidden="true"></i>
      Submit</button>
 
     <hr>
     <footer class="footer">
       <div class="container">
         <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/Bcarterwaites/friend-finder">GitHub Repo</a></p>
       </div>
       
       <div id="results-modal" class="modal fade" role="dialog">
         <div class="modal=dialog">
           <div class="modal-content">
             <div class="modal-header">
               <button type="button" class="close" data-dismiss="modal">
                 &times;
               </button>
               <h2 class="modal-title"><strong>Best Match</strong></h2>
              </div>

              <div class="modal-body">
                <h2 id="matchName"></h2>
                <img
                id="matching"
                src="https://via.placeholder.com/400x400"
                alt="Place holder image in case user pic doesn't show"
                />
              </div>

              <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">
                  Close
                </button>
              </div>
              </div>
              </div>
              </div>
   
       <script type="text/javascript">

       var config = {
         ".chosen-select": {},
         ".chosen-select-deselect": {
           allow_single_deselect: true
         },
         ".chosen-select-no-single": {
           disable_search_threshold: 10
         },
         ".chosen-select-no-results": {
           no_results_text: "Oops, nothing found!"
         },
         ".chosen-select-width": {
           width: "95%"
         }
       };

       for (var selector in config) {
         $(selector).chosen(config[selector]);
       }

      //  Capture form Inputs
      $("#submit").on("click", function(event) {
        event.preventDefault();

        // Form validation
        function validateForm() {
          var isValid = true;
          $(".form-control").each(function() {
            if ($(this).val() === "") {
              isValid = false;
          }
        });

        $(".chosen-select").each(function() {

          if ($(this).val() === "") {
            isValid = false;
          }
        });
        return isValid
      }

      // If all required fields are filled
      if (validateForm()) {
        // Create an object for the user's data
        var userData = {
          name: $("#name").val(),
          photo: $("#photo").val(),
          scores: [
            $("#q1").val(),
            $("#q2").val(),
            $("#q3").val(),
            $("#q4").val(),
            $("#q5").val(),
            $("#q6").val(),
            $("#q7").val(),
            $("#q8").val(),
            $("#q9").val(),
            $("#q10").val()
          ]
        };

        // Ajax post the data to the friend API
        $.post("/api/friends", userData, function(data) {

          // Grab the result from the AJAX post so that the best match's name and photo are displayed.
          $("#match-name").text(data.name);
          $("#match-img").attr("src", data.photo);

          // Show the modal with the best match
          $("results-modal").modal("toggle");
      });
    } else {
      alert("Please fill out all fields before submitting!")
    }
  });
       
       </script>



  
  </body>
  </html>



